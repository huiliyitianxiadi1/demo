<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title></title>

    <script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>


</head>
<body>
<table>
    <thead>
    <tr>
        <td>
            <input type="checkbox" name="checkall" onclick="selectAll(this.checked)"/>
        </td>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>
            <input type="checkbox" name="check"/>x1
        </td>
        <td>
            <div>
                x11
            </div>
        </td>
    </tr>
    <tr>
        <td>
            <input type="checkbox" name="check"/>x2
        </td>
        <td>
            <div>
                x22
            </div>
        </td>
    </tr>
    <tr>
        <td>
            <input type="checkbox" name="check"/>x3
        </td>
        <td>
            <div>
                x33
            </div>
        </td>
    </tr>
    </tbody>
</table>
<button id="btnDelSpell">x</button>

<script>
    function selectAll(selectStatus) {//传入参数（全选框的选中状态）
        //根据name属性获取到单选框的input，使用each方法循环设置所有单选框的选中状态
        if (selectStatus) {
            $("input[name='check']").each(function (i, n) {
                n.checked = true;
            });
        } else {
            $("input[name='check']").each(function (i, n) {
                n.checked = false;
            });
        }
    }

    $("#btnDelSpell").click(function () {
        var checkLength = $("input:checkbox[name='check']:checked").length;
        if (checkLength == 0) {
            alert("请至少选择一条咒语！");
            return;
        }
        $("input[type='checkbox']").each(function () { //遍历checkbox的选择状态
            if ($(this).prop("checked")) { //如果值为checked表明选中了，
                if (($(this).attr("name")) == ("check")) {//且name值为check
                    alert($(this).closest('tr').find('td').eq(1).text() + "   " + $(this).attr("name")); //获取eq为1的那一列数据
                }
            }
        });
    });


</script>

</body>
</html>

